<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="generator" content="PSQL">
<title>PostgreSQL-StatsViaExplainAnalyze</title>
<style type=text/css> body {font:11pt Arial,Helvetica,sans-serif; color:black; background:White;} p {font:13pt Arial,Helvetica,sans-serif; color:black; background:White;} table,tr,td {font:12pt Arial,Helvetica,sans-serif; color:Black; background:#f7f7e7; padding:0px 0px 0px 0px; margin:0px 0px 0px 0px;} th {font:bold 10pt Arial,Helvetica,sans-serif; color:#336699; background:#cccc99; padding:0px 0px 0px 0px;} h1 {font:16pt Arial,Helvetica,Geneva,sans-serif; color:#336699; background color:White; border-bottom:1px solid #cccc99; margin-top:0pt; margin-bottom:0pt; padding:0px 0px 0px 0px;- } h2 {font:bold 11pt Arial,Helvetica,Geneva,sans-serif; color:#336699; background-color:White; margin-top:4pt; margin-bottom:0pt;} a {font:9pt Arial,Helvetica,sans-serif; color:#663300; background:#ffffff; margin-top:0pt; margin-bottom:0pt; vertical-align:top;} footer {text-align: right;font-size: smaller;}</style>
</head>
<h1 style="font-family:verdana"align="center">Stats via Execution Plan Report - QueryID = 7740365855379636009</h1>
<div class="table-content">
<p style="font-family:verdana"><strong>Contents</strong></p>
<ol>
<li><a href="#Overview">Overview</a>
</li>
<li><a href="#QueryDetails">Query and Execution Plan Details</a>
<li><a href="#Databaseobjects">Database Objects Statistics</a>
<ol>
<li><a href="#Databaseobjects1">Query Performance Stats</a></li>
<li><a href="#Databaseobjects2">Table Stats</a></li>
<li><a href="#Databaseobjects3">Index Stats</a></li>
<li><a href="#Databaseobjects4">Column Stats</a></li>
<li><a href="#Databaseobjects4">Extended Stats</a></li>
<li><a href="#Databaseobjects5">Trigger Stats</a></li>
<li><a href="#Databaseobjects6">Functions Stats</a></li>
</ol>
<li><a href="#DatabaseConfDetails">Additional Database and Configuration Details</a>
<ol>
<li><a href="#DatabaseConfDetails1">PostgreSQL Version and Database Details</a></li>
<li><a href="#DatabaseConfDetails2">Database Settings during Executions</a></li>
<li><a href="#DatabaseConfDetails3">Parameter Setting other then Defaults</a></li>
<li><a href="#DatabaseConfDetails4">Execution Plan related Configuration Settings</a></li>
</ol>
</li>
</ol>
</li>
</div>
<title>Stats Via Execution Plan Report</title>
<hr>
<p id="Overview" class="anchor"></p>
<h2 style="font-family:verdana">Overview</h2>
<h4 style="font-family:verdana;list-style-type:none">
<li>Stats via EXPLAIN ANALYZE script gather stats for all database objects involved in the execution plan for a query.</li>
</h4>
 Report Creation Time : <b>2024-08-01 19:29:54</b>

<br>
<hr>
<p id="QueryDetails" class="anchor"></p>
<h2 style="font-family:verdana">Query and Execution Plan Details</h2>
<h4>This section shows SQL details along with the underlying execution plan.</h4>
<li><a href="#Top">Top : </a><a href="#Databaseobjects">Next</a></li>
<br>
<h2 style="font-family:verdana">SQL</h2>
<br>
<pre>select *
FROM testplanstats
WHERE col1 = 1
UNION ALL SELECT *
FROM testplanstats
WHERE col2 = 1
UNION ALL SELECT *
FROM testplanstats
WHERE col3 = 1 </pre>
<br>
<h2 style="font-family:verdana">Execution Plan</h2>
<br>
<pre>
Append  (cost=0.29..1793.62 rows=1020 width=12) (actual time=0.040..10.562 rows=1012 loops=1)
  Buffers: shared hit=495
  ->  Index Scan using testplanstats_col1_key on planstats.testplanstats  (cost=0.29..8.31 rows=1 width=12) (actual time=0.039..0.041 rows=1 loops=1)
        Output: testplanstats.col1, testplanstats.col2, testplanstats.col3
        Index Cond: (testplanstats.col1 = 1)
        Buffers: shared hit=3
  ->  Bitmap Heap Scan on planstats.testplanstats testplanstats_1  (cost=4.37..40.21 rows=10 width=12) (actual time=0.032..0.034 rows=0 loops=1)
        Output: testplanstats_1.col1, testplanstats_1.col2, testplanstats_1.col3
        Recheck Cond: (testplanstats_1.col2 = 1)
        Buffers: shared hit=2
        ->  Bitmap Index Scan on idx_testplanstats1  (cost=0.00..4.37 rows=10 width=0) (actual time=0.029..0.029 rows=0 loops=1)
              Index Cond: (testplanstats_1.col2 = 1)
              Buffers: shared hit=2
  ->  Seq Scan on planstats.testplanstats testplanstats_2  (cost=0.00..1740.00 rows=1009 width=12) (actual time=0.028..10.352 rows=1011 loops=1)
        Output: testplanstats_2.col1, testplanstats_2.col2, testplanstats_2.col3
        Filter: (testplanstats_2.col3 = 1)
        Rows Removed by Filter: 98989
        Buffers: shared hit=490
Query Identifier: 7740365855379636009
Planning Time: 0.232 ms
Execution Time: 10.707 ms</pre>
<br>
<hr>
<p id="Databaseobjects" class="anchor"></p>
<h2 style="font-family:verdana">Query and Object Statistics</h2>
<h4>This section shows underlying statistics of objects involve in Execution plan of the SQL.</h4>
<p id="Databaseobjects1" class="anchor"></p>
<h2>Performance Metrics - pg_stats_statements </h2>
<br>
<li><a href="#QueryDetails">Previous : </a><a href="#Top">Top : </a><a href="#Databaseobjects2">Next</a></li>
<h4>This section shows the underlying runtime execution stats of SQL.</h4>
<table border="1">
  <tr>
    <th align="center">QueryID</th>
    <th align="center">Mean_Planning_Time</th>
    <th align="center">Mean_Execution_Time</th>
    <th align="center">Standard_Deviation_Exec_Time</th>
    <th align="center">Row_Per_Exec</th>
    <th align="center">Calls</th>
    <th align="center">Plan Count</th>
    <th align="center">Disk IO per Call</th>
    <th align="center">Buffer IO per Call</th>
    <th align="center">Disk Temp Usage</th>
  </tr>
  <tr valign="top">
    <td align="right">7740365855379636009</td>
    <td align="right">0.37</td>
    <td align="right">5.61</td>
    <td align="right">5.84</td>
    <td align="right">506</td>
    <td align="right">14</td>
    <td align="right">14</td>
    <td align="right">0</td>
    <td align="right">260</td>
    <td align="right">0</td>
  </tr>
</table>

<p id="Databaseobjects2" class="anchor"></p>
<h2>Database Table Stats Summary </h2>
<br>
<li><a href="#Databaseobjects1">Previous : </a><a href="#Top">Top : </a><a href="#Databaseobjects3">Next</a></li>
<h4>This section shows the underlying stats of the table referenced in the execution plan.</h4>
<table border="1">
  <tr>
    <th align="center">SchemaName</th>
    <th align="center">TableName</th>
    <th align="center">Table_Size</th>
    <th align="center">Index_Size</th>
    <th align="center">TablePages</th>
    <th align="center">LiveRows</th>
    <th align="center">DeadRows</th>
    <th align="center">Partition?</th>
    <th align="center">BloatPerc</th>
    <th align="center">HOT rate</th>
    <th align="center">LVacuumTime</th>
    <th align="center">LAnalyzeTime</th>
    <th align="center">AVThres</th>
    <th align="center">AVSclFactor</th>
    <th align="center">AVThreshold</th>
    <th align="center">Expect_AV</th>
    <th align="center">Pub?</th>
  </tr>
  <tr valign="top">
    <td align="left">planstats</td>
    <td align="left">testplanstats</td>
    <td align="left">3920 kB</td>
    <td align="left">3056 kB</td>
    <td align="right">490</td>
    <td align="right">100000</td>
    <td align="right">0</td>
    <td align="left">N</td>
    <td align="right">0</td>
    <td align="right">0.00</td>
    <td align="left">01-AUG-24 13:00:46</td>
    <td align="left">01-AUG-24 13:00:46</td>
    <td align="left">50</td>
    <td align="left">0.2</td>
    <td align="left">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;20,050</td>
    <td align="left">&nbsp; </td>
    <td align="left">N</td>
  </tr>
</table>

<p id="Databaseobjects3" class="anchor"></p>
<h2 style="font-family:verdana">Database Index Stats Summary</h2>
<li><a href="#Databaseobjects2">Previous : </a><a href="#Top">Top : </a><a href="#Databaseobjects4">Next</a></li>
<h4>This section shows the underlying stats of the index referenced in the execution plan.</h4>
<table border="1">
  <tr>
    <th align="center">SchemaName</th>
    <th align="center">TableName</th>
    <th align="center">IndexName</th>
    <th align="center">IndexSize</th>
    <th align="center">IndexScan</th>
    <th align="center">LastIndexScan</th>
    <th align="center">IndexEntryScan</th>
    <th align="center">TableRowsFetch</th>
    <th align="center">IndexDef</th>
  </tr>
  <tr valign="top">
    <td align="left">planstats</td>
    <td align="left">testplanstats</td>
    <td align="left">idx_testplanstats1</td>
    <td align="left">816 kB</td>
    <td align="right">7</td>
    <td align="left">01-AUG-24 19:29:39</td>
    <td align="right">0</td>
    <td align="right">0</td>
    <td align="left">btree (col2)</td>
  </tr>
  <tr valign="top">
    <td align="left">planstats</td>
    <td align="left">testplanstats</td>
    <td align="left">testplanstats_col1_key</td>
    <td align="left">2208 kB</td>
    <td align="right">7</td>
    <td align="left">01-AUG-24 19:29:39</td>
    <td align="right">7</td>
    <td align="right">7</td>
    <td align="left">UNIQUE      btree (col1)</td>
  </tr>
</table>

<p id="Databaseobjects4" class="anchor"></p>
<h2 style="font-family:verdana">Execution Plan Columns Stats Summary</h2>
<li><a href="#Databaseobjects3">Previous : </a><a href="#Top">Top : </a><a href="#Databaseobjects5">Next</a></li>
<h4>This section shows the underlying stats of the column referenced in the execution plan.</h4>
<table border="1">
  <tr>
    <th align="center">SchemaName</th>
    <th align="center">TableName</th>
    <th align="center">ColumnName</th>
    <th align="center">DataType</th>
    <th align="center">Nullable</th>
    <th align="center">Null Fraction</th>
    <th align="center">Distinct</th>
    <th align="center">Correlation</th>
    <th align="center">Selectivity</th>
    <th align="center">Storage Type</th>
    <th align="center">Compression</th>
    <th align="center">Statistics Target</th>
    <th align="center">Most Common Val(5)</th>
    <th align="center">Most Common Freq(5)</th>
  </tr>
  <tr valign="top">
    <td align="left">planstats</td>
    <td align="left">testplanstats</td>
    <td align="left">col1</td>
    <td align="left">integer</td>
    <td align="left">NULL</td>
    <td align="right">0.00</td>
    <td align="right">-1</td>
    <td align="right">1.000</td>
    <td align="right">1.00</td>
    <td align="left">plain</td>
    <td align="left">&nbsp; </td>
    <td align="right">&nbsp; </td>
    <td align="left">&nbsp; </td>
    <td align="left">&nbsp; </td>
  </tr>
  <tr valign="top">
    <td align="left">planstats</td>
    <td align="left">testplanstats</td>
    <td align="left">col2</td>
    <td align="left">integer</td>
    <td align="left">NULL</td>
    <td align="right">0.52</td>
    <td align="right">4848</td>
    <td align="right">0.102</td>
    <td align="right">9.99</td>
    <td align="left">plain</td>
    <td align="left">&nbsp; </td>
    <td align="right">300</td>
    <td align="left">&nbsp; </td>
    <td align="left">&nbsp; </td>
  </tr>
  <tr valign="top">
    <td align="left">planstats</td>
    <td align="left">testplanstats</td>
    <td align="left">col3</td>
    <td align="left">integer</td>
    <td align="left">NULL</td>
    <td align="right">0.00</td>
    <td align="right">99</td>
    <td align="right">0.011</td>
    <td align="right">1010.10</td>
    <td align="left">plain</td>
    <td align="left">&nbsp; </td>
    <td align="right">&nbsp; </td>
    <td align="left">{81,73,88,45,24}</td>
    <td align="left">{0.010333333,0.0103222225,0.010311111,0.0103,0.010288889}</td>
  </tr>
</table>

<p id="Databaseobjects5" class="anchor"></p>
<h2 style="font-family:verdana">Execution Plan Extended Stats Summary</h2>
<li><a href="#Databaseobjects3">Previous : </a><a href="#Top">Top : </a><a href="#Databaseobjects6">Next</a></li>
<h4>This section shows the underlying extended stats of the Table referenced in the execution plan.</h4>
<table border="1">
  <tr>
    <th align="center">Schema</th>
    <th align="center">TableName</th>
    <th align="center">Statistics Name</th>
    <th align="center">columns</th>
    <th align="center">NDistinct</th>
    <th align="center">Dependency</th>
    <th align="center">MCV</th>
    <th align="center">Statistics Target</th>
  </tr>
  <tr valign="top">
    <td align="left">planstats</td>
    <td align="left">testplanstats</td>
    <td align="left">teststats1</td>
    <td align="left">col2, col3</td>
    <td align="left">Y</td>
    <td align="left">Y</td>
    <td align="left">Y</td>
    <td align="right">-1</td>
  </tr>
</table>

<p id="Databaseobjects6" class="anchor"></p>
<h2 style="font-family:verdana">Execution Plan Trigger Stats Summary</h2>
<li><a href="#Databaseobjects5">Previous : </a><a href="#Top">Top : </a><a href="#Databaseobjects7">Next</a></li>
<h4>This section shows the underlying details of triggers referenced in the execution plan, if any.</h4>
<table border="1">
  <tr>
    <th align="center">triggername</th>
    <th align="center">Time</th>
    <th align="center">Calls</th>
    <th align="center">TableName</th>
    <th align="center">ProcedureName</th>
    <th align="center">TriggerDef</th>
  </tr>
</table>

<p id="Databaseobjects7" class="anchor"></p>
<h2 style="font-family:verdana">Execution Plan Function Stats Summary</h2>
<li><a href="#Databaseobjects6">Previous : </a><a href="#Top">Top : </a><a href="#DatabaseConfDetails">Next</a></li>
<h4>This section shows the underlying details of functions referenced in the execution plan, but only if the <i>track_functions</i> flag is set.</h4>
<table border="1">
  <tr>
    <th align="center">schemaname</th>
    <th align="center">funcname</th>
    <th align="center">calls</th>
    <th align="center">total_time</th>
    <th align="center">self_time</th>
    <th align="center">Type</th>
    <th align="center">Volatility</th>
    <th align="center">Parallel</th>
    <th align="center">Language</th>
    <th align="center">Filter</th>
  </tr>
</table>

<br>
<hr>
<br>
<p id="DatabaseConfDetails" class="anchor"></p>
<h2 style="font-family:verdana">Additional Configuration and Database Details</h2>
<h4>This section shows additional database details along with must-know configurations for execution plan analysis.</h4>
<li><a href="#Databaseobjects4">Previous : </a><a href="#Top">Top : </a><a href="#DatabaseConfDetails2">Next</a></li>
<p id="DatabaseConfDetails1" class="anchor"></p>
<h2>PostgreSQL Version and Database Details</h2>
<br>
<table border="1">
  <tr>
    <th align="center">Database Name</th>
    <th align="center">version</th>
    <th align="center">Size</th>
    <th align="center">Hit Ratio</th>
    <th align="center">xact_commit_ratio</th>
    <th align="center">xact_rollback_ratio</th>
    <th align="center">deadlocks</th>
    <th align="center">conflicts</th>
    <th align="center">Temp Files</th>
    <th align="center">Total Temp</th>
  </tr>
  <tr valign="top">
    <td align="left">plantest</td>
    <td align="left">PostgreSQL 16.3</td>
    <td align="left">41 MB</td>
    <td align="right">99</td>
    <td align="right">95</td>
    <td align="right">4</td>
    <td align="right">0</td>
    <td align="right">0</td>
    <td align="right">12</td>
    <td align="left">67 MB</td>
  </tr>
</table>

<br>
<li><a href="#DatabaseConfDetails1">Previous : </a><a href="#Top">Top : </a><a href="#DatabaseConfDetails3">Next</a></li>
<p id="DatabaseConfDetails2" class="anchor"></p>
<h2>Database Settings During Execution</h2>
<br>
<table border="1">
  <tr>
    <th align="center">Execution Plan Setting</th>
    <th align="center">Value</th>
  </tr>
  <tr valign="top">
    <td align="left">search_path</td>
    <td align="left">planstats, public</td>
  </tr>
</table>

<p id="DatabaseConfDetails3" class="anchor"></p>
<h2>Database Parameter Settings Other Than Defaults </h2>
<br>
<li><a href="#DatabaseConfDetails2">Previous : </a><a href="#Top">Top : </a><a href="#DatabaseConfDetails4">Next</a></li>
<br>
<table border="1">
  <tr>
    <th align="center">Parameter</th>
    <th align="center">Value</th>
  </tr>
  <tr valign="top">
    <td align="left">TimeZone</td>
    <td align="left">Asia/Kolkata</td>
  </tr>
  <tr valign="top">
    <td align="left">application_name</td>
    <td align="left">psql</td>
  </tr>
  <tr valign="top">
    <td align="left">client_encoding</td>
    <td align="left">UTF8</td>
  </tr>
  <tr valign="top">
    <td align="left">default_text_search_config</td>
    <td align="left">pg_catalog.english</td>
  </tr>
  <tr valign="top">
    <td align="left">lc_messages</td>
    <td align="left">C</td>
  </tr>
  <tr valign="top">
    <td align="left">listen_addresses</td>
    <td align="left">*</td>
  </tr>
  <tr valign="top">
    <td align="left">log_timezone</td>
    <td align="left">Asia/Kolkata</td>
  </tr>
  <tr valign="top">
    <td align="left">logging_collector</td>
    <td align="left">on</td>
  </tr>
  <tr valign="top">
    <td align="left">search_path</td>
    <td align="left">planstats, public</td>
  </tr>
  <tr valign="top">
    <td align="left">shared_preload_libraries</td>
    <td align="left">pg_stat_statements,auto_explain</td>
  </tr>
  <tr valign="top">
    <td align="left">track_functions</td>
    <td align="left">all</td>
  </tr>
</table>

<br>
<p id="DatabaseConfDetails4" class="anchor"></p>
<h2>Important Configuration Settings for Execution Plan</h2>
<br>
<li><a href="#DatabaseConfDetails3">Previous : </a><a href="#Top">Top : </a></li>
<br>
<table border="1">
  <tr>
    <th align="center">Parameter</th>
    <th align="center">Value</th>
  </tr>
  <tr valign="top">
    <td align="left">default_statistics_target</td>
    <td align="left">100</td>
  </tr>
  <tr valign="top">
    <td align="left">from_collapse_limit</td>
    <td align="left">8</td>
  </tr>
  <tr valign="top">
    <td align="left">hash_mem_multiplier</td>
    <td align="left">2</td>
  </tr>
  <tr valign="top">
    <td align="left">join_collapse_limit</td>
    <td align="left">8</td>
  </tr>
  <tr valign="top">
    <td align="left">max_parallel_workers</td>
    <td align="left">8</td>
  </tr>
  <tr valign="top">
    <td align="left">max_parallel_workers_per_gather</td>
    <td align="left">2</td>
  </tr>
  <tr valign="top">
    <td align="left">min_parallel_table_scan_size</td>
    <td align="left">8MB</td>
  </tr>
  <tr valign="top">
    <td align="left">plan_cache_mode</td>
    <td align="left">auto</td>
  </tr>
  <tr valign="top">
    <td align="left">random_page_cost</td>
    <td align="left">4</td>
  </tr>
  <tr valign="top">
    <td align="left">seq_page_cost</td>
    <td align="left">1</td>
  </tr>
  <tr valign="top">
    <td align="left">temp_buffers</td>
    <td align="left">8MB</td>
  </tr>
  <tr valign="top">
    <td align="left">work_mem</td>
    <td align="left">4MB</td>
  </tr>
</table>

<br>
<br>
<footer>
Created by DataCloudGaze Consulting<br>
<a href="mailto:contact@datacloudgaze.com">Report Issue - contact@datacloudgaze.com</a><br>
<a href="https://www.datacloudgaze.com/">About Us</a>
</footer>
<h1 style="font-family:verdana"align="center"><u>End Report </u></h1>
